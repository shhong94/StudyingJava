package UI;

import java.awt.*;
import java.util.ArrayList;

import javax.swing.*;
import com.sist.data.*;
import com.sist.data.*;

public class MovieForm extends JPanel{
	JButton b1, b2;
	JPanel p = new JPanel();
	MovieCard[] mc = new MovieCard[10];		// 포스터 클릭 이벤트를 위해 MovieCard를 지역변수에서 전역변수로 꺼내옴
											// 상세보기 구분시에는 (배열 인덱스 * 페이지)를 하면 됨
	ClientMainFrame c;						// ????????????????????????????????????????????????????????????????????
	public MovieForm(ClientMainFrame c) {
		this.c = c;							// ????????????????????????????????????????????????????????????????????
		setLayout(new BorderLayout());
		b1 = new JButton("◀");
		b2 = new JButton("▶");
		
		
		moviePrint(1);
		p.setLayout(new GridLayout(2, 5, 5, 5));
		
		
		add("West", b1); add("Center", p); add("East", b2);
	}
	
	public void moviePrint(int page) {
		MovieManager m = new MovieManager();
		ArrayList<MovieVO> list = m.movieListData(page);
		int i = 0;
		
		for(MovieVO vo : list) {
		mc[i] = new MovieCard(vo.getTitle(), vo.getPoster());
		p.add(mc[i]);
		mc[i].addMouseListener(c);			// ????????????????????????????????????????????????????????????????????
		i++;								// addMouseListener()를 ClientMainForm으로 보냄?
		}
	}	
	
}
